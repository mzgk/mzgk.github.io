<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Objective-C | jubilee]]></title>
  <link href="http://mzgk.github.io/blog/categories/objective-c/atom.xml" rel="self"/>
  <link href="http://mzgk.github.io/"/>
  <updated>2014-08-05T16:20:26+09:00</updated>
  <id>http://mzgk.github.io/</id>
  <author>
    <name><![CDATA[mzgk]]></name>
    <email><![CDATA[mzgkworks@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[シングルトン（singleton）]]></title>
    <link href="http://mzgk.github.io/blog/2014/singleton/"/>
    <updated>2014-08-05T16:14:13+09:00</updated>
    <id>http://mzgk.github.io/blog/2014/singleton</id>
    <content type="html"><![CDATA[<p>シングルトンとは？<br/>
&ndash; デザインパターンの１つ
&ndash; 「ただ１つの」インスタンスしか持たない→どこからアクセスしても同じインスタンスなので
&ndash; 複数のクラス間での変数やオブジェクトの共有が可能
&ndash; 複数のクラス間でメソッドの共有ができる
&ndash; NSUserdefaultsと同様</p>

<p>```objective-c:SingletonManager.h
@interface SingletonSample : NSObject
// このシングルトンが管理するプロパティ
@property(nonatomic) NSInteger managedParam;
@property(strong, nonatomic) NSString *catName;</p>

<pre><code>...
</code></pre>

<p>// インスタンス作成のためのクラスメソッド
+ (SingletonSample *)sharedManager;</p>

<p>// このシングルトンが保有するメソッド
&ndash; (void)sampleMethod:(NSString*)name;
@end
```</p>

<p>```objective-c:SingletonManager.m
@implementation SingletonManager</p>

<p>static id sharedManager_ = nil;
+ (id)sharedManager
{</p>

<pre><code>static dispatch_once_t onceToken;
dispatch_once(&amp;onceToken, ^{
    sharedData_ = [SingletonManager new];
});
return sharedManager_;
</code></pre>

<p>}</p>

<ul>
<li>(void)sampleMethod:(NSString*)name
{
  &hellip;
}
@end
```</li>
</ul>


<p>```objective-c:ViewController.m</p>

<h1>import &ldquo;SingletonManager.h&rdquo;</h1>

<ul>
<li>(void)viewDidLoad
{
  SingletonManager *single = [SingletonManager sharedManager];
  single.managedParam = 100; // 変数に値をセット
  [single sampleMethod:name]; // メソッドを使用
}
```</li>
</ul>


<p>参考：<br/>
<a href="http://ylb.jp/iOSDev/SingletonSample.pdf  ">http://ylb.jp/iOSDev/SingletonSample.pdf  </a>
<a href="http://qiita.com/yuky_az/items/27031ec5ca55a95d6209">http://qiita.com/yuky_az/items/27031ec5ca55a95d6209</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ビューの重なり順を変更する]]></title>
    <link href="http://mzgk.github.io/blog/2014/chage-view-overlap/"/>
    <updated>2014-08-05T15:34:39+09:00</updated>
    <id>http://mzgk.github.io/blog/2014/chage-view-overlap</id>
    <content type="html"><![CDATA[<p>ビューの重なり順をコードで変更する方法。</p>

<h2>自分に追加されているサブビューの配列を取得</h2>

<p><code>objective-c
self.subviews
</code></p>

<h2>自分と同じスーパービューをもつサブビューの配列を取得</h2>

<p><code>objective-c
superview.subviews
</code></p>

<h2>挿入位置をインデックス番号で指定する</h2>

<p><code>objective-c
[self.view insertSubview:_imageView atIndex:1];
</code></p>

<h2>指定ビューの前／後ろに挿入する</h2>

<p><code>objective-c
// _targetViewの下にする
[self.view insertSubview:_imageView belowSubview:_targetView];
// _targetViewの上にする
[self.view insertSubview:_imageView aboveSubview:_targetView];
</code></p>

<h2>ビューを最前面／再背面に移動させる</h2>

<p><code>objective-c
// 最前面
[self.view bringSubviewToFront:_imageView];
// 再背面
[self.view sendSubviewToBack:_imageView];
</code></p>

<h2>指定したインデックスのビューの重なりを入れ替える</h2>

<p><code>objective-c
// 1番目と3番目を入れ替える
[self.view exchangeSubviewAtIndex:1 withSubviewAtIndex:3];
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ファイルパス（NSString）をNSURLに変換する方法（日本語OK）]]></title>
    <link href="http://mzgk.github.io/blog/2014/filepath-nsurl/"/>
    <updated>2014-08-05T15:07:00+09:00</updated>
    <id>http://mzgk.github.io/blog/2014/filepath-nsurl</id>
    <content type="html"><![CDATA[<p>日本語のディレクトリ名が入るとおかしくなるが、この方法だとOK。</p>

<p><code>objective-c
NSString* string = @"/Users/abt/Documents/日本語のフォルダ名/file.txt";
NSURL* url = [NSURL fileURLWithPath:string];
// NGケース（nilが返る）
NSURL* nilUrl = [NSURL URLWithString:string];
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[引っ張って更新を使う（UITableViewController / UITableView）]]></title>
    <link href="http://mzgk.github.io/blog/2014/uirefreshcontrol/"/>
    <updated>2014-08-05T14:42:13+09:00</updated>
    <id>http://mzgk.github.io/blog/2014/uirefreshcontrol</id>
    <content type="html"><![CDATA[<p>UITableViewControllerを使うか、UITableViewを直で使うかによって、コードの差異あり。</p>

<p>```objective-c
@property (weak, nonatomic) IBOutlet UITableView <em>postlistTableView;
@property (strong, nonatomic) UIRefreshControl </em>refreshControl;</p>

<ul>
<li><p>(void)viewDidLoad
{
  <em>refreshControl = [UIRefreshControl new];
  [</em>postlistTableView addSubview:<em>refreshControl];    // （差異）UITableViewを直で使う場合
  self.refreshControl = refreshControl;               // （差異）UITableViewControllerを使う場合
  [</em>refreshControl addTarget:self
                      action:@selector(refreshOccured:)    // 更新時の処理を行う自作メソッド名
            forControlEvents:UIControlEventValueChanged];
  _postlistTableView.alwaysBounceVertical = YES;          // セルが空でも可能とする
}</p></li>
<li><p>(void)refreshOccured:(id)sender
{
  // 更新で行う処理を記述
  // 更新処理を終了させる
  [<em>refreshControl endRefreshing];
  [</em>postlistTableView reloadData];
}
```</p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[対象のビューがサブビューかどうか判断する方法]]></title>
    <link href="http://mzgk.github.io/blog/2014/confirm-subview/"/>
    <updated>2014-08-05T14:26:28+09:00</updated>
    <id>http://mzgk.github.io/blog/2014/confirm-subview</id>
    <content type="html"><![CDATA[<p>対象のビューがサブビューかどうか（ビューに存在しているか？）を判断する方法。</p>

<p>```objective-c
// メモリから破棄されないように"strong"を指定
@preoperty (strong, nonatomatic) IBOutlet UILabel *myLabel;</p>

<ul>
<li>(IBAction)removeAllLabel:(id)sender
{
  if ([<em>mylabel isDescendantOfView:self.view]) {
      // ビューから取り除く
      [</em>myLabel removeFromSuperView];
  }
  else {
      // ビューに追加する
      [self.view addSuperView:_mylabel];
  }
}
```</li>
</ul>


<h2>スーパービューを調べる</h2>

<p><code>_myLabel.superView</code> でも、_myLabelにスーパービューがあるかどうか調べられる。</p>

<h2>取り除く≒非表示</h2>

<p><code>_myLabel.hidden = YES;</code> で、取り除くことなく非表示化できる。</p>
]]></content>
  </entry>
  
</feed>
