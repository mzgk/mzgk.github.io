<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Objective-C | jubilee]]></title>
  <link href="http://mzgk.github.io/blog/categories/objective-c/atom.xml" rel="self"/>
  <link href="http://mzgk.github.io/"/>
  <updated>2014-09-02T11:11:52+09:00</updated>
  <id>http://mzgk.github.io/</id>
  <author>
    <name><![CDATA[mzgk]]></name>
    <email><![CDATA[mzgkworks@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[文字列の大小比較]]></title>
    <link href="http://mzgk.github.io/blog/2014/string-compare/"/>
    <updated>2014-09-01T19:14:57+09:00</updated>
    <id>http://mzgk.github.io/blog/2014/string-compare</id>
    <content type="html"><![CDATA[<p>文字列を大小比較する場合は、以下を使用する。</p>

<p>```objective-c 文字列の大小比較
NSComparisonResult result = [比較元 compare:比較相手];
if (result == NSOrderedAscending) {</p>

<pre><code>結果：元　＜　相手：-1
</code></pre>

<p>}
else if (result == NSOrderedSame) {</p>

<pre><code>結果：元　＝　相手：0
</code></pre>

<p>}
else if (result == NSOrderedDescending) {</p>

<pre><code>結果：元　＞　相手：1
</code></pre>

<p>}
```</p>

<p>単純に等しいかどうかの判断であれば <code>isEqualToString:</code> を使用。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[NSLog()を記述せずに、ブレークポイントでログを出力する方法]]></title>
    <link href="http://mzgk.github.io/blog/2014/breakpoint-automessage/"/>
    <updated>2014-08-29T15:26:02+09:00</updated>
    <id>http://mzgk.github.io/blog/2014/breakpoint-automessage</id>
    <content type="html"><![CDATA[<p>ちょっとした確認をしたいときや、NSLog()を残したくない場合などに、ブレークポイントを使ってコンソールにログを出力する方法。<br/>
Xcodeのブレークポイントの設定だけで、停止せずにログを出力できる。</p>

<!-- more -->


<h2>ブレークポイント</h2>

<ul>
<li>ブレークポイントを設定</li>
<li>右クリック &ndash;> Edit Breakpoint&hellip;</li>
<li>Action &ndash;> Log Message</li>
<li>入力欄に出力したい文言を記述</li>
<li>変数の値を出力したい場合は、@変数名@</li>
<li>Options &ndash;> Automatically〜にチェックを入れると止まらずにコンソールに出力する</li>
</ul>


<p><img src="/images/2014/0829/breakpoint.png" alt="設定方法" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[NSLog()のリリース時停止漏れを防ぐマクロ]]></title>
    <link href="http://mzgk.github.io/blog/2014/nslog-macro/"/>
    <updated>2014-08-29T15:03:40+09:00</updated>
    <id>http://mzgk.github.io/blog/2014/nslog-macro</id>
    <content type="html"><![CDATA[<p>リリース時にNSLog()が仕込まれたままの状態を防ぐ。<br/>
デバッグ時のみ、ログ出力（関数名・行番号をつけて）を行う。</p>

<!-- more -->


<h2>アプリ名-prefix.pch</h2>

<p>アプリ名-prefix.pchに以下を記載する。</p>

<p>```objective-c アプリ名-prefix.pch</p>

<h1>ifdef DEBUG</h1>

<h1>define dLog(fmt, &hellip;) NSLog((@&ldquo;%s [Line %d] &rdquo; fmt), <strong>PRETTY_FUNCTION</strong>, <strong>LINE</strong>, ##<strong>VA_ARGS</strong>);</h1>

<h1>else</h1>

<h1>define dLog(&hellip;)</h1>

<h1>endif</h1>

<p>// ALog always displays output regardless of the DEBUG alarm</p>

<h1>define aLog(fmt, &hellip;) NSLog((@&ldquo;%s [Line %d] &rdquo; fmt), <strong>PRETTY_FUNCTION</strong>, <strong>LINE</strong>, ##<strong>VA_ARGS</strong>);</h1>

<p>```</p>

<h2>使用方法</h2>

<ul>
<li>dLog(@“TEST!”);　→　デバッグ時のみNSLogで出力（[関数名] [Line 25] TEST!）</li>
<li>dLog();　→　これも可（[関数名] [Line 25]）</li>
<li>aLog();　→　デバッグ・リリースに関係なく出力される。</li>
</ul>


<h2>参考</h2>

<p><a href="http://d.hatena.ne.jp/k2_k_hei/20120511/1336750473">http://d.hatena.ne.jp/k2_k_hei/20120511/1336750473</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[プロパティやインスタンス変数を宣言する場所]]></title>
    <link href="http://mzgk.github.io/blog/2014/property-place/"/>
    <updated>2014-08-29T14:56:41+09:00</updated>
    <id>http://mzgk.github.io/blog/2014/property-place</id>
    <content type="html"><![CDATA[<p>記述方法は３つある。<br/>
見やすさから言えばヘッダーファイルにあるといいが、ドキュメントを読むと2. 3. が推奨されているっぽい。</p>

<ol>
<li>ヘッダーファイル</li>
<li>実装ファイル：クラスエクステンション内</li>
<li>実装ファイル：@implementation</li>
</ol>


<!-- more -->


<h2>1. ヘッダーファイル</h2>

<p>ヘッダー内に記述する。とくにグローバルでなければ非推奨。</p>

<p><code>objective-c sampleClass.h
@interface SampleClass : NSObject
{
@property (nonatomic) NSString *name;
}
</code></p>

<h2>2. 実装ファイル：クラスエクステンション内</h2>

<p>実装ファイルにクラスエクステンションを作成し、そこに記述。</p>

<p>```objective-c sampleClass.m
@interface SampleClass ()
// クラスエクステンション内に記述する
@property (nonatomic) NSString *name;
@end</p>

<p>@implementation SampleClass
+ (id)init
{</p>

<pre><code>メソッドの実装
</code></pre>

<p>}
@end
```</p>

<h2>3. 実装ファイル：@implementation</h2>

<p>@implementation内に{}を記述し、その中に書く。</p>

<p>```objective-c sampleClass.m
@implementation SampleClass
{
// {}を記述し、その中に記述する
@property (nonatomic) NSString *name;
}</p>

<p>// メソッドの実装
+ (id)init
{
&hellip;
}
@end
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AppID・証明書の作成方法（Push通知あり）]]></title>
    <link href="http://mzgk.github.io/blog/2014/make-appid-certificate-for-pushnotification/"/>
    <updated>2014-08-28T16:42:34+09:00</updated>
    <id>http://mzgk.github.io/blog/2014/make-appid-certificate-for-pushnotification</id>
    <content type="html"><![CDATA[<p>作成しているアプリ用に、App ID・証明書等の作成が必要になったので手順のメモ。<br/>
Push通知ありのアプリ。以下で作業が必要になる。</p>

<ul>
<li>Web（Safari &ndash;> iOS Developer Center）</li>
<li>Mac（キーチェーン・ターミナル）</li>
</ul>


<!-- more -->


<h2>App IDの作成（Web）</h2>

<ul>
<li>Safari &ndash;> iOS Developer Centerにアクセス</li>
<li>Certificates, Identifiers &amp; Profiles</li>
<li>iOS Apps</li>
<li>Identifiers &ndash;> App IDs</li>
<li>＋ボタンで作成開始</li>
<li>App ID Description

<ul>
<li>Name: 名前を入れる（判別しやすいように）</li>
</ul>
</li>
<li>App ID Prefix

<ul>
<li>Value: 自動生成されている（入力不可）</li>
</ul>
</li>
<li>App ID Suffix

<ul>
<li>Explicit App ID</li>
<li>Bundle ID: jp.co.ast-net.アプリ名（小文字）</li>
</ul>
</li>
<li>App Services

<ul>
<li>使用するものにチェックを入れる（今回はPush Notifications）</li>
</ul>
</li>
</ul>


<h2>証明書の作成（Mac）</h2>

<ul>
<li>キーチェーンアクセス.appを起動</li>
<li>メニューから、キーチェーンアクセス &ndash;> 証明書アシスタント &ndash;> 認証局に証明書を要求</li>
<li>入力欄

<ul>
<li>メールアドレス：入力</li>
<li>通称：入力</li>
<li>CAのメールアドレス：未入力</li>
</ul>
</li>
<li>チェック欄

<ul>
<li>ディスクに保存</li>
<li>鍵ペア情報を指定</li>
</ul>
</li>
<li>作成される「CertificateSigningRequest.certSigningRequest」（CSR）を任意の場所に保存</li>
<li>鍵サイズ：2048</li>
<li>アルゴリズム：RSA</li>
</ul>


<h2>App IDと証明書の設定（Web）</h2>

<ul>
<li>ここからは開発用（Development）と製品用（Distribution）の２回作業が必要</li>
<li>Safari &ndash;> iOS Developer Centerにアクセス</li>
<li>Certificates, Identifiers &amp; Profiles</li>
<li>iOS Apps</li>
<li>Identifiers &ndash;> App IDs</li>
<li>先ほど作成したApp IDを選択 &ndash;> Edit（Push Notificationsが黄色になっている）</li>
<li>Push Notificationsの「Development SSL Certificate &ndash;> Create Certificate&hellip;」をクリック</li>
<li>Continueをクリック</li>
<li>Chose File&hellip; で、作成した証明書（CSR）を選択</li>
<li>Generateをクリック</li>
<li>作成されたら、Downloadをクリックしダウンロードする</li>
<li>aps_development.cer（aps_production.cer）がダウンロードされる</li>
<li>Certificates &ndash;> Allには設定した分が増えている（Name: Bundle ID）</li>
</ul>


<h2>証明書の書き出し（Mac）</h2>

<ul>
<li>ダウンロードしたファイル（aps_development.cer）をダブルクリックして、キーチェーンに登録する</li>
<li>キーチェーン.appを起動</li>
<li>Apple Development IOS Push Services: Bundle IDが登録されているので選択し、右クリック</li>
<li>&ldquo;Apple Development IOS Push Services: Bundle ID"を書き出すをクリック</li>
<li>名前をつけて、任意の場所に保存。フォーマット：個人情報交換（.p12）</li>
<li>パスワードを作成</li>
</ul>


<h2>証明書の変換（Mac）</h2>

<ul>
<li>ターミナルを起動</li>
<li>ファイルのあるディレクトリに移動</li>
<li>コマンドを入力し、パスワードを入力</li>
<li>終了すると、証明書の名前.pemが作成される</li>
<li>作成された.pemファイルを通知処理を行うサーバーに置いておく</li>
</ul>


<p><code>bash
// 入力
$ openssl pkcs12 -in 証明書の名前.p12 -out 証明書の名前（p12と別でも可）.pem -nodes -clcerts
// 聞かれる
Enter Import Password: 証明書の書き出しで作成したパスワード
// 完了
MAC Verified OK
</code></p>
]]></content>
  </entry>
  
</feed>
